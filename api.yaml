openapi: 3.0.0
info:
  version: 0.0.1
  title: api
servers:
  - url: "/api"
paths:
  /login:
    get:
      tags:
        - login
      summary: login api
      operationId: login
      parameters:
        - name: username
          in: query
          description: the user name
          required: true
          schema:
            type: string
        - name: password
          in: query
          description: the user password
          required: true
          schema:
            type: string
      responses:
        200:
          description: Login response
          content:
            application/json:
              type: object
              required:
                - success
                - passwordDiff
              properties:
                success:
                  type: Boolean
                  description: true if the password is valid
                passwordDiff:
                  type: array
                  items: number
                  description: the diff of the given password from the actual password
  /search:
    get:
      tags:
        - search
      summary: search api
      operationId: search
      parameters:
        - name: text
          in: query
          description: The search regex
          required: true
          schema:
            type: string
      responses:
        200:
          description: results found
          content:
            application/json:
              type: object
              required:
                - totalResults
                - title
                - content
              properties:
                totalResults:
                  type: number
                  description: total results found
                title:
                  type: string
                  description: title of first result
                content:
                  type: string
                  description: content of first result
